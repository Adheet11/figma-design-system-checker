(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var a={},i=[],r=0;r<e.length;r++){var l=e[r],d=o.base?l[0]+o.base:l[0],c=a[d]||0,u="".concat(d," ").concat(c);a[d]=c+1;var p=t(u),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(m);else{var g=s(m,o);o.byIndex=r,n.splice(r,0,{identifier:u,updater:g,references:1})}i.push(u)}return i}function s(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,s){var a=o(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var r=t(a[i]);n[r].references--}for(var l=o(e,s),d=0;d<a.length;d++){var c=t(a[d]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}a=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(i[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),n.push(c))}},n}},330:(e,n,t)=>{t.d(n,{A:()=>r});var o=t(601),s=t.n(o),a=t(314),i=t.n(a)()(s());i.push([e.id,'/* Base Styles */\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;\n    margin: 0;\n    padding: 0;\n    color: #333;\n    font-size: 12px;\n    background-color: #f8f8f8;\n    overflow: hidden;\n    height: 100vh;\n  }\n  \n  * {\n    box-sizing: border-box;\n  }\n  \n  /* Layout */\n  .container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  \n  .header {\n    padding: 16px;\n    background-color: #fff;\n    border-bottom: 1px solid #e5e5e5;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  .tabs {\n    display: flex;\n    border-bottom: 1px solid #e5e5e5;\n    background-color: #fff;\n  }\n  \n  .tab {\n    padding: 10px 16px;\n    cursor: pointer;\n    border-bottom: 2px solid transparent;\n    font-weight: 500;\n  }\n  \n  .tab.active {\n    border-bottom-color: #18a0fb;\n    color: #18a0fb;\n  }\n  \n  .content {\n    flex: 1;\n    overflow-y: auto;\n    padding: 16px;\n  }\n  \n  .footer {\n    padding: 12px 16px;\n    background-color: #fff;\n    border-top: 1px solid #e5e5e5;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  /* Components */\n  .card {\n    background-color: #fff;\n    border-radius: 6px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n    margin-bottom: 16px;\n    overflow: hidden;\n  }\n  \n  .card-header {\n    padding: 12px 16px;\n    border-bottom: 1px solid #eaeaea;\n    font-weight: 500;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  .card-content {\n    padding: 16px;\n  }\n  \n  .summary-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 12px;\n  }\n  \n  .summary-card {\n    background-color: #f1f5f9;\n    border-radius: 4px;\n    padding: 12px;\n  }\n  \n  .summary-title {\n    font-size: 11px;\n    font-weight: 500;\n    margin-bottom: 4px;\n    color: #666;\n  }\n  \n  .summary-value {\n    font-size: 20px;\n    font-weight: 600;\n  }\n  \n  .progress-bar {\n    height: 8px;\n    background-color: #eaeaea;\n    border-radius: 4px;\n    margin-top: 8px;\n    overflow: hidden;\n  }\n  \n  .progress-value {\n    height: 100%;\n    background-color: #18a0fb;\n    border-radius: 4px;\n  }\n  \n  .low { background-color: #ef4444; }\n  .medium { background-color: #f59e0b; }\n  .high { background-color: #10b981; }\n  \n  .table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  \n  .table th,\n  .table td {\n    text-align: left;\n    padding: 8px 12px;\n    border-bottom: 1px solid #eaeaea;\n  }\n  \n  .table th {\n    font-weight: 500;\n    color: #666;\n  }\n  \n  .table td {\n    font-size: 11px;\n  }\n  \n  .issue-row {\n    cursor: pointer;\n  }\n  \n  .issue-row:hover {\n    background-color: #f5f5f5;\n  }\n  \n  .tag {\n    display: inline-block;\n    padding: 2px 6px;\n    border-radius: 4px;\n    font-size: 10px;\n    font-weight: 500;\n    background-color: #e5e5e5;\n  }\n  \n  .tag.error { background-color: #fee2e2; color: #b91c1c; }\n  .tag.warning { background-color: #fef3c7; color: #92400e; }\n  .tag.info { background-color: #e0f2fe; color: #0369a1; }\n  \n  /* Buttons */\n  .button {\n    border: none;\n    border-radius: 6px;\n    padding: 8px 12px;\n    font-weight: 500;\n    cursor: pointer;\n    font-size: 12px;\n    transition: all 0.2s;\n  }\n  \n  .button-primary {\n    background-color: #18a0fb;\n    color: white;\n  }\n  \n  .button-primary:hover {\n    background-color: #0d8ecf;\n  }\n  \n  .button-secondary {\n    background-color: #f1f5f9;\n    color: #333;\n  }\n  \n  .button-secondary:hover {\n    background-color: #e2e8f0;\n  }\n  \n  .button-small {\n    padding: 4px 8px;\n    font-size: 11px;\n  }\n  \n  /* Empty state */\n  .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 48px 24px;\n    text-align: center;\n    color: #666;\n  }\n  \n  .empty-state-icon {\n    font-size: 32px;\n    margin-bottom: 16px;\n    color: #ccc;\n  }\n  \n  /* Loading state */\n  .loading {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 48px 24px;\n    text-align: center;\n    color: #666;\n  }\n  \n  .loader {\n    border: 3px solid #f3f3f3;\n    border-top: 3px solid #18a0fb;\n    border-radius: 50%;\n    width: 24px;\n    height: 24px;\n    animation: spin 1s linear infinite;\n    margin-bottom: 16px;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  /* Fix suggestions */\n  .fix-suggestion {\n    background-color: #f8fafc;\n    border: 1px solid #e2e8f0;\n    border-radius: 4px;\n    padding: 8px 12px;\n    margin-top: 8px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  .suggestion-info {\n    flex: 1;\n  }\n  \n  .suggestion-name {\n    font-weight: 500;\n    font-size: 11px;\n  }\n  \n  .suggestion-detail {\n    font-size: 10px;\n    color: #666;\n    margin-top: 2px;\n  }\n  \n  .expanded-details {\n    margin-top: 8px;\n    padding-top: 8px;\n    border-top: 1px solid #eaeaea;\n    font-size: 11px;\n  }\n  \n  /* Settings form */\n  .form-group {\n    margin-bottom: 16px;\n  }\n  \n  .form-label {\n    display: block;\n    margin-bottom: 4px;\n    font-weight: 500;\n  }\n  \n  .form-input, .form-select {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #e5e5e5;\n    border-radius: 4px;\n    font-size: 12px;\n  }\n  \n  .checkbox-group {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n  \n  .checkbox-group input {\n    margin-right: 8px;\n  }',""]);const r=i},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var s=void 0!==t.layer;s&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,s&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var a=n[o]={id:o,exports:{}};return e[o](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var o=t(72),s=t.n(o),a=t(825),i=t.n(a),r=t(659),l=t.n(r),d=t(56),c=t.n(d),u=t(540),p=t.n(u),m=t(113),g=t.n(m),y=t(330),v={};v.styleTagTransform=g(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),s()(y.A,v),y.A&&y.A.locals&&y.A.locals;const f=document.querySelectorAll(".tab"),b=document.querySelectorAll(".tab-content"),x=document.getElementById("runCheckBtn"),h=document.getElementById("closeBtn"),w=document.getElementById("exportReportBtn"),C=(document.getElementById("loadingState"),document.getElementById("emptyState"));function E(e){const n=document.getElementById("errorContainer");n&&(n.textContent=e,n.classList.add("success"),n.style.display="block",setTimeout((()=>{n.style.display="none",n.classList.remove("success")}),3e3))}function I(e){const n=document.getElementById("loadingState"),t=document.getElementById("content");n&&t&&(e?(n.style.display="flex",t.classList.add("disabled")):(n.style.display="none",t.classList.remove("disabled")))}function k(e){f.forEach((e=>e.classList.remove("active")));const n=document.querySelector(`.tab[data-tab="${e}"]`);n&&n.classList.add("active"),b.forEach((e=>{e.style.display="none"}));const t=document.getElementById(`${e}Tab`);t&&(t.style.display="block")}function B(e,n){e.classList.remove("low","medium","high"),n<50?e.classList.add("low"):n<80?e.classList.add("medium"):e.classList.add("high")}function $(e,n){const t=document.getElementById(e);t&&(t.textContent=n)}function L(e,n){e.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("locate-btn")){const e=t.closest(".issue-row");if(e){const n=e.dataset.nodeId;n&&parent.postMessage({pluginMessage:{type:"highlightNode",payload:{nodeId:n}}},"*")}}else if(t.classList.contains("fix-btn"))!function(e,n){const t=e.closest(".issue-row");if(!t)return;const o=t.dataset.nodeId,s=e.dataset.fix;if(!o||!s)return;const a=n.find((e=>e.node.id===o));a&&R(a,M(a))}(t,n);else if(t.classList.contains("preview-btn")){const e=t.closest(".issue-row");if(e){const t=e.dataset.nodeId;if(t){const e=n.find((e=>e.node.id===t));e&&R(e,M(e))}}}}))}function M(e){return"detached"===e.type||e.type.startsWith("modified")||"nonLibrary"===e.type||e.type.includes("component")?"component":"fill"===e.type||"stroke"===e.type||"effect"===e.type||"text"===e.type?"style":"variable"}function S(e){const n=document.getElementById("componentsTableBody"),t=document.getElementById("componentsEmpty");n&&t&&(n.innerHTML="",0!==e.length?(t.style.display="none",e.forEach((e=>{const t=z(e);n.appendChild(t)})),L(n,e)):t.style.display="block")}function R(e,n){const t=document.getElementById("fixPreviewContainer");if(!t)return;t.innerHTML="";let o="";if("style"===n){const t=e.suggestions&&e.suggestions.length>0?e.suggestions[0]:null;t&&(o=`\n        <div class="preview-header">Style Fix Preview</div>\n        <div class="preview-content">\n          <div class="preview-row">\n            <div class="preview-label">Current Value:</div>\n            <div class="preview-value">${e.value}</div>\n          </div>\n          <div class="preview-row">\n            <div class="preview-label">Suggested Style:</div>\n            <div class="preview-value">${t.name} (${t.source})</div>\n          </div>\n          ${t.value.startsWith("#")?`<div class="preview-color-sample" style="background-color: ${t.value}"></div>`:""}\n        </div>\n        <div class="preview-actions">\n          <button class="button button-primary apply-preview-btn" data-fix="${n}" data-node-id="${e.node.id}">\n            Apply Fix\n          </button>\n          <button class="button button-secondary close-preview-btn">\n            Cancel\n          </button>\n        </div>\n      `)}else if("variable"===n){const t=e.suggestions&&e.suggestions.length>0?e.suggestions[0]:null;t&&(o=`\n        <div class="preview-header">Variable Fix Preview</div>\n        <div class="preview-content">\n          <div class="preview-row">\n            <div class="preview-label">Current Value:</div>\n            <div class="preview-value">${e.value}</div>\n          </div>\n          <div class="preview-row">\n            <div class="preview-label">Suggested Variable:</div>\n            <div class="preview-value">${t.name}</div>\n          </div>\n        </div>\n        <div class="preview-actions">\n          <button class="button button-primary apply-preview-btn" data-fix="${n}" data-node-id="${e.node.id}">\n            Apply Fix\n          </button>\n          <button class="button button-secondary close-preview-btn">\n            Cancel\n          </button>\n        </div>\n      `)}else"component"===n&&(o=`\n      <div class="preview-header">Component Fix Preview</div>\n      <div class="preview-content">\n        <div class="preview-row">\n          <div class="preview-label">Issue:</div>\n          <div class="preview-value">${e.message}</div>\n        </div>\n        ${e.details?`<div class="preview-row">\n            <div class="preview-label">Details:</div>\n            <div class="preview-value">${e.details}</div>\n          </div>`:""}\n        ${e.mainComponentName?`<div class="preview-row">\n            <div class="preview-label">Main Component:</div>\n            <div class="preview-value">${e.mainComponentName}</div>\n          </div>`:""}\n      </div>\n      <div class="preview-actions">\n        ${e.type.startsWith("modified")?`<button class="button button-primary apply-preview-btn" data-fix="reset" data-node-id="${e.node.id}">\n            Reset to Main Component\n          </button>`:""}\n        ${"detached"===e.type&&e.mainComponentId?`<button class="button button-primary apply-preview-btn" data-fix="swap" data-node-id="${e.node.id}">\n            Swap to Component\n          </button>`:""}\n        <button class="button button-secondary close-preview-btn">\n          Cancel\n        </button>\n      </div>\n    `);t.innerHTML=o,t.style.display="block";const s=t.querySelector(".apply-preview-btn"),a=t.querySelector(".close-preview-btn");s&&s.addEventListener("click",(n=>{const o=n.target,s=o.dataset.nodeId,a=o.dataset.fix;if(s&&a){const n=e;o.textContent="Applying...",o.disabled=!0;const s=function(e,n){const t={nodeId:e.node.id,type:M(e),fixType:n};return"component"===t.type?"swap"===n&&e.mainComponentKey&&(t.componentKey=e.mainComponentKey):"style"===t.type?(t.styleType=e.type,e.suggestions&&e.suggestions.length>0&&(t.style=e.suggestions[0])):"variable"===t.type&&(t.property=e.property,e.suggestions&&e.suggestions.length>0&&(t.variable=e.suggestions[0])),t}(n,a);parent.postMessage({pluginMessage:{type:"applyFix",payload:{fix:s}}},"*"),t.style.display="none"}})),a&&a.addEventListener("click",(()=>{t.style.display="none"}))}function T(){const e=document.getElementById("severityFilter").value,n=document.getElementById("typeFilter").value,t=document.getElementById("sortBy").value,o=document.getElementById("groupBy").value;if(!window.currentResults)return;var s,a,i;const r=function(e,n){return[...e].sort(((e,t)=>"severity"===n?F(e)-F(t):"type"===n?e.type.localeCompare(t.type):"name"===n?e.node.name.localeCompare(t.node.name):0))}((s=window.currentResults.componentResults,a=e,i=n,s.filter((e=>!("all"!==a&&A(e)!==a||"all"!==i&&e.type!==i)))),t);"none"===o?S(r):function(e,n){const t=document.getElementById("componentsTableBody");if(!t)return;t.innerHTML="";const o=function(e,n){const t={};return e.forEach((e=>{let o;o="type"===n?e.type:"severity"===n?A(e):"component"===n?e.node.name:"ungrouped",t[o]||(t[o]=[]),t[o].push(e)})),t}(e,n),s=Object.keys(o).sort(((e,t)=>{if("severity"===n){const n={high:1,medium:2,low:3};return(n[e]||99)-(n[t]||99)}return e.localeCompare(t)}));for(const e of s){const s=o[e],a=document.createElement("tr");a.classList.add("group-header");let i=e;"severity"===n?i=e.charAt(0).toUpperCase()+e.slice(1)+" Severity":"type"===n&&(i=H(e)),a.innerHTML=`\n      <td colspan="3" class="group-title">\n        ${i} (${s.length} items)\n        <button class="button button-small button-secondary group-toggle">Collapse</button>\n      </td>\n    `,t.appendChild(a);const r=document.createElement("tbody");r.classList.add("group-items"),s.forEach((e=>{const n=z(e);r.appendChild(n)})),t.appendChild(r);const l=a.querySelector(".group-toggle");l&&l.addEventListener("click",(()=>{const e=r.classList.toggle("collapsed");l.textContent=e?"Expand":"Collapse"}))}L(t,e)}(r,o)}function A(e){return"detached"===e.type||"missingVariable"===e.type||"modified-forbidden"===e.type?"high":e.type.startsWith("modified")||"fill"===e.type||"stroke"===e.type?"medium":"low"}function F(e){switch(A(e)){case"high":return 1;case"medium":return 2;case"low":return 3;default:return 4}}function H(e){return e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}function z(e){const n=document.createElement("tr");return n.classList.add("issue-row"),n.dataset.nodeId=e.node.id,n.classList.add(`severity-${A(e)}`),n.innerHTML=`\n    <td>${e.node.name}</td>\n    <td>${e.message}</td>\n    <td>\n      <button class="button button-small button-secondary locate-btn">Locate</button>\n      ${e.type.startsWith("modified")?'<button class="button button-small button-secondary fix-btn" data-fix="reset">Reset</button>':""}\n      ${"detached"===e.type&&e.mainComponentId?'<button class="button button-small button-secondary fix-btn" data-fix="swap">Swap</button>':""}\n      ${e.suggestions&&e.suggestions.length>0?'<button class="button button-small button-secondary preview-btn">Preview</button>':""}\n    </td>\n  `,n}window.onmessage=e=>{const n=e.data.pluginMessage;if(n)if("error"!==n.type){if("checkResults"===n.type){I(!1);const e=n.payload;window.currentResults={componentResults:e.componentResults,styleResults:e.styleResults,tokenResults:e.tokenResults},function(e){$("overallCoverage",`${e.overallCoverage.toFixed(1)}%`),$("componentCoverage",`${e.componentCoverage.toFixed(1)}%`),$("styleCoverage",`${e.styleCoverage.toFixed(1)}%`),$("variableCoverage",`${e.variableCoverage.toFixed(1)}%`),$("totalNodes",e.totalNodes.toString());const n=document.getElementById("overallProgress"),t=document.getElementById("componentProgress"),o=document.getElementById("styleProgress"),s=document.getElementById("variableProgress");n&&(n.style.width=`${e.overallCoverage}%`,B(n,e.overallCoverage)),t&&(t.style.width=`${e.componentCoverage}%`,B(t,e.componentCoverage)),o&&(o.style.width=`${e.styleCoverage}%`,B(o,e.styleCoverage)),s&&(s.style.width=`${e.variableCoverage}%`,B(s,e.variableCoverage))}(e.metrics),function(e,n,t){const o=e+n+t;$("componentIssues",e.toString()),$("styleIssues",n.toString()),$("variableIssues",t.toString()),$("totalIssues",o.toString())}(e.componentResults.length,e.styleResults.length,e.tokenResults.length),S(e.componentResults),function(e){const n=document.getElementById("stylesTableBody"),t=document.getElementById("stylesEmpty");n&&t&&(n.innerHTML="",0!==e.length?(t.style.display="none",e.forEach((e=>{const t=document.createElement("tr");t.classList.add("issue-row"),t.dataset.nodeId=e.node.id;let o='<button class="button button-small button-secondary locate-btn">Locate</button>';e.suggestions&&e.suggestions.length>0&&(o+=`\n        <button class="button button-small button-secondary fix-btn" data-fix="style">Apply ${e.suggestions[0].name}</button>\n      `),t.innerHTML=`\n      <td>${e.node.name}</td>\n      <td>${e.message}</td>\n      <td>${e.value}</td>\n      <td>${o}</td>\n    `,n.appendChild(t)})),L(n,e)):t.style.display="block")}(e.styleResults),function(e){const n=document.getElementById("variablesTableBody"),t=document.getElementById("variablesEmpty");n&&t&&(n.innerHTML="",0!==e.length?(t.style.display="none",e.forEach((e=>{const t=document.createElement("tr");t.classList.add("issue-row"),t.dataset.nodeId=e.node.id;let o='<button class="button button-small button-secondary locate-btn">Locate</button>';e.suggestions&&e.suggestions.length>0&&(o+=`\n        <button class="button button-small button-secondary fix-btn" data-fix="variable">Apply ${e.suggestions[0].name}</button>\n      `),t.innerHTML=`\n      <td>${e.node.name}</td>\n      <td>${e.message}</td>\n      <td>${e.value}</td>\n      <td>${o}</td>\n    `,n.appendChild(t)})),L(n,e)):t.style.display="block")}(e.tokenResults),function(e){const n=document.getElementById("librarySelect");n&&(n.innerHTML="",e.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=`${e.name} (${e.components.length} components, ${e.styles.length} styles)`,t.selected=!0,n.appendChild(t)})))}(e.libraries),k("summary")}else if("fixApplied"===n.type){const e=n.payload;E(`Fixed ${e.fixType} on "${e.nodeName}"`)}else if("batchFixComplete"===n.type){const e=n.payload;E(`Applied ${e.successCount} of ${e.totalFixes} fixes successfully. ${e.failCount} fixes failed.`),I(!1)}else if("exportReportData"===n.type){const e="data:text/json;charset=utf-8,"+encodeURIComponent(n.payload),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","design-system-report.json"),document.body.appendChild(t),t.click(),t.remove()}}else!function(e){const n=document.getElementById("errorContainer");n&&(n.textContent=e,n.style.display="block",setTimeout((()=>{n.style.display="none"}),5e3))}(n.payload.message)},f.forEach((e=>{e.addEventListener("click",(()=>{const n=e.getAttribute("data-tab");n&&k(n)}))})),document.addEventListener("DOMContentLoaded",(()=>{I(!0),C.style.display="none",[document.getElementById("severityFilter"),document.getElementById("typeFilter"),document.getElementById("sortBy"),document.getElementById("groupBy")].forEach((e=>{e&&e.addEventListener("change",T)})),window.currentResults={componentResults:[],styleResults:[],tokenResults:[]}})),x.addEventListener("click",(()=>{var e,n,t;I(!0),C.style.display="none";const o={visualize:null===(e=document.getElementById("visualizeIssues"))||void 0===e?void 0:e.checked,generateReport:null===(n=document.getElementById("generateReport"))||void 0===n?void 0:n.checked,includeHidden:null===(t=document.getElementById("includeHidden"))||void 0===t?void 0:t.checked};parent.postMessage({pluginMessage:{type:"checkDesignSystem",payload:{options:o}}},"*")})),h.addEventListener("click",(()=>{parent.postMessage({pluginMessage:{type:"close"}},"*")})),w.addEventListener("click",(()=>{var e,n,t,o,s,a,i,r,l;const d={overallCoverage:null===(e=document.getElementById("overallCoverage"))||void 0===e?void 0:e.textContent,componentCoverage:null===(n=document.getElementById("componentCoverage"))||void 0===n?void 0:n.textContent,styleCoverage:null===(t=document.getElementById("styleCoverage"))||void 0===t?void 0:t.textContent,variableCoverage:null===(o=document.getElementById("variableCoverage"))||void 0===o?void 0:o.textContent,totalNodes:null===(s=document.getElementById("totalNodes"))||void 0===s?void 0:s.textContent,componentIssues:null===(a=document.getElementById("componentIssues"))||void 0===a?void 0:a.textContent,styleIssues:null===(i=document.getElementById("styleIssues"))||void 0===i?void 0:i.textContent,variableIssues:null===(r=document.getElementById("variableIssues"))||void 0===r?void 0:r.textContent,totalIssues:null===(l=document.getElementById("totalIssues"))||void 0===l?void 0:l.textContent};parent.postMessage({pluginMessage:{type:"exportReport",payload:{metrics:d}}},"*")}))})();